limit = 10000;

time = 0;
dt = 0.01;
omega = 0.05*pi;
dynamics = eight_shaped_dynamics(omega,dt);
target = TargetClass([0.000001,0.0],@dynamics.stateAt);
target.incrementTime(dt);


loc = target.returnPos();
locs = loc;
for i = 1:limit
    % Testing stateUpdate utility in dynamics object.
    
    
    loc = dynamics.stateUpdate(loc);
    locs = [locs;loc];

    target.motionUpdate();
    target.incrementTime(dt);
%       target.motionUpdateDefault(dt)
end

% target.states
figure;
plot(target.states(1:end, 1), target.states(1:end, 2));
figure;
plot(locs(:,1),locs(:,2))